---
description: コードブロックとシンタックスハイライトルール
globs:
alwaysApply: false
---
# Marpコードブロックとシンタックスハイライトルール

## 基本ルール

1. コードブロックの形式
   - 必ずバッククォート3つで囲む
   - 言語指定を必ず行う
   - 最大行数: 20行まで
   - 最大文字数: 1行あたり80文字

2. 言語指定の例
   ```javascript
   // JavaScript
   ```
   ```python
   # Python
   ```
   ```bash
   # Shell
   ```
   ```typescript
   // TypeScript
   ```

3. コードブロックのサイズ
   - 1スライドあたり最大2つまで
   - 画面の60%以下の高さ
   - フォントサイズ: 18-24px推奨

4. インラインコード
   - バッククォート1つで囲む
   - 短い変数名や関数名に使用
   - 強調したい技術用語に使用

5. コメント
   - 日本語でわかりやすく
   - 重要な処理には必ず追加
   - 冗長にならないよう簡潔に

## シンタックスハイライトルール

1. カラースキーム
   - 背景: ダーク系またはライト系で統一
   - キーワード: 青系 (#0000FF, #569CD6)
   - 文字列: 緑系 (#008000, #CE9178)
   - コメント: グレー系 (#6A9955, #808080)
   - 関数: 黄色系 (#DCDCAA)

2. 強調表示
   - 重要な行は背景色を変更
   - 行番号を表示する場合は左側に配置
   - 変更箇所は緑背景、削除箇所は赤背景

3. フォーマット
   - インデント: スペース2つまたは4つで統一
   - 改行: 適切な位置で改行
   - 空行: 論理的な区切りに使用

## 使用例

1. 完全なコード例
   ```javascript
   // データを取得する関数
   async function fetchData(url) {
     try {
       const response = await fetch(url);
       return await response.json();
     } catch (error) {
       console.error('エラー:', error);
     }
   }
   ```

2. 差分表示
   ```diff
   - const oldValue = 10;
   + const newValue = 20;
   ```

3. 複数言語の比較
   - 左右に並べる場合は1言語あたり40文字以内
   - 各言語に明確なラベルを付ける

## 注意事項

1. 可読性の確保
   - コードが小さくなりすぎないよう注意
   - 必要に応じて分割して複数スライドに
   - 重要な部分のみを抜粋

2. エラー処理
   - エラーハンドリングのコードも表示
   - 例外処理は省略しない
   - ベストプラクティスを示す

3. セキュリティ
   - APIキーやパスワードは表示しない
   - 機密情報はプレースホルダーを使用
   - サンプルデータを使用

4. パフォーマンス
   - シンタックスハイライトによる重さに注意
   - 大量のコードブロックは避ける
   - プレビューで動作確認

5. スタイル指定
   - カスタムCSSでコードブロックの見た目を調整可能
   - ```css
     pre {
       background: #1E1E1E;
       padding: 1em;
       border-radius: 5px;
       font-size: 20px;
     }
     ```
